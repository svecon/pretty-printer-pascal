<html>
    <head>
	<meta charset="utf-8">
	<title>Zápočťák > Pretty Printer</title>
	<style>
	    /**
	     * SyntaxHighlighter styles
	     * http://alexgorbatchev.com/SyntaxHighlighter
	     */
	    body { font-size: 17px; } 

	    .prettyprinter,
	    .prettyprinter a,
	    .prettyprinter div,
	    .prettyprinter code,
	    .prettyprinter table,
	    .prettyprinter table td,
	    .prettyprinter table tr,
	    .prettyprinter table tbody,
	    .prettyprinter table thead,
	    .prettyprinter table caption,
	    .prettyprinter textarea {
		-moz-border-radius: 0 0 0 0;
		-webkit-border-radius: 0 0 0 0;
		background: none;
		border: 0;
		border-spacing: 0;
		bottom: auto;
		float: none;
		height: auto;
		left: auto;
		line-height: 1.1em;
		margin: 0;
		outline: 0;
		overflow: visible;
		padding: 0;
		position: static;
		right: auto;
		text-align: left;
		top: auto;
		vertical-align: baseline;
		width: auto;
		box-sizing: content-box;
		font-family: "Consolas", "Bitstream Vera Sans Mono", "Courier New", Courier, monospace;
		font-weight: normal;
		font-style: normal;
		font-size: 1em;
		min-height: inherit;
		min-height: auto;
	    }

	    .prettyprinter {
		background-color: white;
		width: 100%;
		margin: 1em 0 1em 0;
		position: relative;
		font-size: 1em;
	    }

	    .prettyprinter tr:nth-of-type(even) {
		background: rgba(220, 220, 220, .25);
	    }

	    .prettyprinter .gutter {
		color: #afafaf;
		border-right: 3px solid #6ce26c;
		text-align: right;
		padding: 0 .5em;
		vertical-align: top;
	    }

	    .prettyprinter tr.highlighted { background-color: #e0e0e0; }
	    .prettyprinter tr.highlighted .gutter {
		background-color: #6ce26c;
		color: white;
	    }

	    .prettyprinter .plain,
	    .prettyprinter .plain a {           color: black; }
	    .prettyprinter .comments,
	    .prettyprinter .comments a {        color: #008200; }
	    .prettyprinter .string,
	    .prettyprinter .string a {          color: blue; }
	    .prettyprinter .keyword {           color: #006699; }
	    .prettyprinter .preprocessor {      color: gray; }
	    .prettyprinter .variable {          color: #aa7700; }
	    .prettyprinter .value {             color: #009900; }
	    .prettyprinter .functions {         color: #ff1493; }
	    .prettyprinter .constants {         color: #0066cc; }
	    .prettyprinter .script {
		font-weight: bold;
		color: #006699;
		background-color: none;
	    }
	    .prettyprinter .color1,
	    .prettyprinter .color1 a {          color: gray; }
	    .prettyprinter .color2,
	    .prettyprinter .color2 a {          color: #ff1493; }
	    .prettyprinter .color3,
	    .prettyprinter .color3 a {          color: red; }

	    .prettyprinter .keyword { font-weight: bold; }

	    .prettyprinter .code { padding-left: 1em; }
	    .prettyprinter tr:hover { background: rgba(0, 102, 153, .2); }
	</style>     
    </head>

    <body>
	       <table border=0 class="prettyprinter">
<tr><td class="gutter">1</td><td class="code"><code class="comments">{ Pretty-printer }</code></td></tr>
<tr><td class="gutter">2</td><td class="code"><code class="comments">{ Ondrej Svec, I. rocnik, MMF-UK }</code></td></tr>
<tr><td class="gutter">3</td><td class="code"><code class="comments">{ zimni semestr 2012/13 }</code></td></tr>
<tr><td class="gutter">4</td><td class="code"><code class="comments">{ Programovani NPRG030: RNDr. Tomas Holan, Ph.D. }</code></td></tr>
<tr><td class="gutter">5</td><td class="code"></td></tr>
<tr><td class="gutter">6</td><td class="code"><code class="keyword">program</code> templating;</td></tr>
<tr><td class="gutter">7</td><td class="code"><code class="comments">{$MODE DELPHI}</code></td></tr>
<tr><td class="gutter">8</td><td class="code"><code class="keyword">uses</code> sysUtils, crt;</td></tr>
<tr><td class="gutter">9</td><td class="code"></td></tr>
<tr><td class="gutter">10</td><td class="code"><code class="comments">// oznaceni promennych v sablonach</td></tr>
<tr><td class="gutter">11</td><td class="code"><code class="keyword">const</code> variablePrefix = <code class="string">'{$'</code>;</td></tr>
<tr><td class="gutter">12</td><td class="code"><code class="keyword">const</code> variablePostfix = <code class="string">'}'</code>;</td></tr>
<tr><td class="gutter">13</td><td class="code"><code class="comments">// standartni pojmenovani souboru</td></tr>
<tr><td class="gutter">14</td><td class="code"><code class="keyword">const</code> defaultOutputName = <code class="string">'prettyPrinter.html'</code>;</td></tr>
<tr><td class="gutter">15</td><td class="code"><code class="keyword">const</code> defaultTemplateName = <code class="string">'prettyPrinterTemplate.html'</code>;</td></tr>
<tr><td class="gutter">16</td><td class="code"><code class="keyword">const</code> defaultSourceName = <code class="string">'prettyPrinter.pas'</code>;</td></tr>
<tr><td class="gutter">17</td><td class="code"><code class="comments">// velikost odsazeni</td></tr>
<tr><td class="gutter">18</td><td class="code"><code class="keyword">const</code> indentationSize = 4; </td></tr>
<tr><td class="gutter">19</td><td class="code"></td></tr>
<tr><td class="gutter">20</td><td class="code"><code class="comments">{ modifikatory pro vypisovani/zkraslovani kodu }</code></td></tr>
<tr><td class="gutter">21</td><td class="code"><code class="comments">// uvnitr komentare</td></tr>
<tr><td class="gutter">22</td><td class="code"><code class="keyword">const</code> mComment = 1;</td></tr>
<tr><td class="gutter">23</td><td class="code"><code class="comments">// jednoradkovy komentar</td></tr>
<tr><td class="gutter">24</td><td class="code"><code class="keyword">const</code> mCommentLine = 2;</td></tr>
<tr><td class="gutter">25</td><td class="code"><code class="comments">(* zavorkovy komentar (**)</code></td></tr>
<tr><td class="gutter">26</td><td class="code"><code class="keyword">const</code> mCommentPar = 4; </td></tr>
<tr><td class="gutter">27</td><td class="code"><code class="comments">// uvnitr stringu</td></tr>
<tr><td class="gutter">28</td><td class="code"><code class="keyword">const</code> mString = 8;</td></tr>
<tr><td class="gutter">29</td><td class="code"><code class="comments">// ve zdrojaku byl novy radek, preskoc vsechny mezery </td></tr>
<tr><td class="gutter">30</td><td class="code"><code class="keyword">const</code> mNewLine = 16;</td></tr>
<tr><td class="gutter">31</td><td class="code"><code class="comments">// uvnitr zavorek</td></tr>
<tr><td class="gutter">32</td><td class="code"><code class="keyword">const</code> mParentheses = 32; </td></tr>
<tr><td class="gutter">33</td><td class="code"><code class="comments">// pred vypisovanim dalsiho slova odradkuj</td></tr>
<tr><td class="gutter">34</td><td class="code"><code class="keyword">const</code> mNewLineDelay = 64;</td></tr>
<tr><td class="gutter">35</td><td class="code"><code class="comments">// nevypisuj HTML</td></tr>
<tr><td class="gutter">36</td><td class="code"><code class="keyword">const</code> mPlain = 128;</td></tr>
<tr><td class="gutter">37</td><td class="code"><code class="comments">// byl vytisten novy radek (pro opozdene odsazeni)</td></tr>
<tr><td class="gutter">38</td><td class="code"><code class="keyword">const</code> mLinePrinted = 256;</td></tr>
<tr><td class="gutter">39</td><td class="code"><code class="comments">// vloz begin & end na samostatny radek</td></tr>
<tr><td class="gutter">40</td><td class="code"><code class="keyword">const</code> mAddSpecLine = 512;</td></tr>
<tr><td class="gutter">41</td><td class="code"><code class="keyword">const</code> mComments = mComment or mCommentLine or mCommentPar;</td></tr>
<tr><td class="gutter">42</td><td class="code"><code class="keyword">const</code> mSpecial = mComments or mString;</td></tr>
<tr><td class="gutter">43</td><td class="code"></td></tr>
<tr><td class="gutter">44</td><td class="code"><code class="keyword">var</code> templateFile, outputFile : text;</td></tr>
<tr><td class="gutter">45</td><td class="code"><code class="keyword">var</code> attributes : integer; <code class="comments">// pro modifikatory</td></tr>
<tr><td class="gutter">46</td><td class="code"><code class="keyword">var</code> rowNumber : integer; <code class="comments">// cislovani radku</td></tr>
<tr><td class="gutter">47</td><td class="code"><code class="keyword">var</code> indentation : integer; <code class="comments">// odsazeni</td></tr>
<tr><td class="gutter">48</td><td class="code"><code class="keyword">var</code> parentheses : integer; <code class="comments">// uzavorkovani</td></tr>
<tr><td class="gutter">49</td><td class="code"><code class="keyword">var</code> commentCharCache : char; <code class="comments">// double-char comment fix</td></tr>
<tr><td class="gutter">50</td><td class="code"><code class="keyword">var</code> inputSourceName, outputName, templateName : string; <code class="comments">// jmena souboru</td></tr>
<tr><td class="gutter">51</td><td class="code"><code class="keyword">var</code> z : char; <code class="comments">// pomocna promenna</td></tr>
<tr><td class="gutter">52</td><td class="code"></td></tr>
<tr><td class="gutter">53</td><td class="code"><code class="comments">// seznam slov pro zvyrazneni</td></tr>
<tr><td class="gutter">54</td><td class="code"><code class="keyword">var</code> keywords : <code class="keyword">array</code>[1..18] <code class="keyword">of</code> string = <code class="string">'(program'</code>, <code class="string">'uses'</code>, <code class="string">'var'</code>, <code class="string">'const'</code>, <code class="string">'type'</code>, <code class="string">'begin'</code>, <code class="string">'end'</code>, <code class="string">'while'</code>, <code class="string">'for'</code>, <code class="string">'do'</code>, <code class="string">'not'</code>, <code class="string">'function'</code>, <code class="string">'procedure'</code>, <code class="string">'if'</code>, <code class="string">'then'</code>, <code class="string">'array'</code>, <code class="string">'of'</code>, <code class="string">'else'</code>);</td></tr>
<tr><td class="gutter">55</td><td class="code"><code class="comments">// seznam slov, ktere jsou oddelene dalsim radkem</td></tr>
<tr><td class="gutter">56</td><td class="code"><code class="comments">{var newLineWords:array[1..05] of string = ('procedure', 'function', 'while', 'for', 'else');}</code></td></tr>
<tr><td class="gutter">57</td><td class="code"><code class="comments">// seznam datovych typu</td></tr>
<tr><td class="gutter">58</td><td class="code"><code class="comments">{var dataTypes: array[1..13] of string = ('byte', 'shortint', 'word', 'integer', 'longint', 'real', 'single', 'double', 'extended', 'comp', 'bool', 'boolean', 'string');}</code></td></tr>
<tr><td class="gutter">59</td><td class="code"></td></tr>
<tr><td class="gutter">60</td><td class="code"><code class="comments">{ funkce dec, ktera snizuje pouze do nuly }</code></td></tr>
<tr><td class="gutter">61</td><td class="code"><code class="keyword">procedure</code> decPositive(<code class="keyword">var</code> i : integer);</td></tr>
<tr><td class="gutter">62</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">63</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> i &lt;= 0 <code class="keyword">then</code> exit;</td></tr>
<tr><td class="gutter">64</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dec(i);</td></tr>
<tr><td class="gutter">65</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">66</td><td class="code"></td></tr>
<tr><td class="gutter">67</td><td class="code"><code class="keyword">function</code> isLetter(c:char):boolean;</td></tr>
<tr><td class="gutter">68</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">69</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isLetter := false;</td></tr>
<tr><td class="gutter">70</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> c in [<code class="string">'a'</code>..<code class="string">'z'</code>, <code class="string">'A'</code>..<code class="string">'Z'</code>] <code class="keyword">then</code> isLetter := true;</td></tr>
<tr><td class="gutter">71</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">72</td><td class="code"></td></tr>
<tr><td class="gutter">73</td><td class="code"><code class="comments">{ zkontroluje, zda-li je modifikator aktivni</code></td></tr>
<tr><td class="gutter">74</td><td class="code"><code class="comments">attr = cislo modifikatoru }</code></td></tr>
<tr><td class="gutter">75</td><td class="code"><code class="keyword">function</code> attrCheck(attr : integer):boolean;</td></tr>
<tr><td class="gutter">76</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">77</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attrCheck := true;</td></tr>
<tr><td class="gutter">78</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> attributes and attr = 0 <code class="keyword">then</code> attrCheck := false;</td></tr>
<tr><td class="gutter">79</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">80</td><td class="code"></td></tr>
<tr><td class="gutter">81</td><td class="code"><code class="comments">{ zapne modifikator</code></td></tr>
<tr><td class="gutter">82</td><td class="code"><code class="comments">attr = cislo modifikatoru }</code> </td></tr>
<tr><td class="gutter">83</td><td class="code"><code class="keyword">procedure</code> attrEnable(attr : integer);</td></tr>
<tr><td class="gutter">84</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code> </td></tr>
<tr><td class="gutter">85</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes := attributes or attr; </td></tr>
<tr><td class="gutter">86</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">87</td><td class="code"></td></tr>
<tr><td class="gutter">88</td><td class="code"><code class="comments">{ vypne modifikator</code></td></tr>
<tr><td class="gutter">89</td><td class="code"><code class="comments">attr = cislo modifikatoru }</code></td></tr>
<tr><td class="gutter">90</td><td class="code"><code class="keyword">procedure</code> attrDisable(attr : integer);</td></tr>
<tr><td class="gutter">91</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code> </td></tr>
<tr><td class="gutter">92</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes := attributes and <code class="keyword">not</code> attr; </td></tr>
<tr><td class="gutter">93</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">94</td><td class="code"></td></tr>
<tr><td class="gutter">95</td><td class="code"><code class="comments">{ zjisti, jestli je slovo v nejakem z preddefinovanych poli</code></td></tr>
<tr><td class="gutter">96</td><td class="code"><code class="comments">s = hledane slovo</code></td></tr>
<tr><td class="gutter">97</td><td class="code"><code class="comments">arr = prohledavane pole }</code></td></tr>
<tr><td class="gutter">98</td><td class="code"><code class="keyword">function</code> isSpecial(<code class="keyword">var</code> s:string; <code class="keyword">var</code> arr:<code class="keyword">array</code> <code class="keyword">of</code> string):boolean;</td></tr>
<tr><td class="gutter">99</td><td class="code"><code class="keyword">var</code> i : integer;</td></tr>
<tr><td class="gutter">100</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">101</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isSpecial := false;</td></tr>
<tr><td class="gutter">102</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">for</code> i:=low(arr) to high(arr) <code class="keyword">do</code></td></tr>
<tr><td class="gutter">103</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> arr[i] = s <code class="keyword">then</code> </td></tr>
<tr><td class="gutter">104</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">105</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isSpecial := true;</td></tr>
<tr><td class="gutter">106</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;</td></tr>
<tr><td class="gutter">107</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>; </td></tr>
<tr><td class="gutter">108</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">109</td><td class="code"></td></tr>
<tr><td class="gutter">110</td><td class="code"><code class="keyword">procedure</code> outputNewLine(closeTag : boolean = true); forward;</td></tr>
<tr><td class="gutter">111</td><td class="code"></td></tr>
<tr><td class="gutter">112</td><td class="code"><code class="comments">{ opozdene vypisovani noveho radku</code></td></tr>
<tr><td class="gutter">113</td><td class="code"><code class="comments">- podle modifikatoru rozhodne, zda-li ma vytisknout novy radek }</code></td></tr>
<tr><td class="gutter">114</td><td class="code"><code class="keyword">procedure</code> checkForNewLineDelayed();</td></tr>
<tr><td class="gutter">115</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">116</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> attrCheck(mNewLineDelay) and <code class="keyword">not</code> attrCheck(mComments) <code class="keyword">then</code></td></tr>
<tr><td class="gutter">117</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">118</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputNewLine();</td></tr>
<tr><td class="gutter">119</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attrDisable(mNewLineDelay);</td></tr>
<tr><td class="gutter">120</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">121</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">122</td><td class="code"></td></tr>
<tr><td class="gutter">123</td><td class="code"><code class="comments">{ odsazeni vysledneho kodu</code></td></tr>
<tr><td class="gutter">124</td><td class="code"><code class="comments">const indentationSize = sirka odsazeni }</code> </td></tr>
<tr><td class="gutter">125</td><td class="code"><code class="keyword">procedure</code> outputIndentation();</td></tr>
<tr><td class="gutter">126</td><td class="code"><code class="keyword">var</code> i,j : integer;</td></tr>
<tr><td class="gutter">127</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">128</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">for</code> i:=1 to indentation <code class="keyword">do</code></td></tr>
<tr><td class="gutter">129</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">for</code> j:=1 to indentationSize <code class="keyword">do</code></td></tr>
<tr><td class="gutter">130</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> attrCheck(mPlain) <code class="keyword">then</code></td></tr>
<tr><td class="gutter">131</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write(outputFile, <code class="string">' '</code>)</td></tr>
<tr><td class="gutter">132</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">else</code> </td></tr>
<tr><td class="gutter">133</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write(outputFile, <code class="string">'&nbsp;'</code>)</td></tr>
<tr><td class="gutter">134</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">135</td><td class="code"></td></tr>
<tr><td class="gutter">136</td><td class="code"><code class="comments">{ vypisovani do html output </code></td></tr>
<tr><td class="gutter">137</td><td class="code"><code class="comments">text = vypisovany string</code></td></tr>
<tr><td class="gutter">138</td><td class="code"><code class="comments">printingHTML = obsahuje text HTML? }</code></td></tr>
<tr><td class="gutter">139</td><td class="code"><code class="keyword">procedure</code> outputLine(text : string; printingHTML : boolean = false);</td></tr>
<tr><td class="gutter">140</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">141</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">// pokud nechceme vypisovat HTML</td></tr>
<tr><td class="gutter">142</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> printingHTML and attrCheck(mPlain) <code class="keyword">then</code> exit;</td></tr>
<tr><td class="gutter">143</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">144</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">// pokud jsme na novem radku, vypiseme odsazeni</td></tr>
<tr><td class="gutter">145</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> attrCheck(mLinePrinted) <code class="keyword">then</code> outputIndentation;</td></tr>
<tr><td class="gutter">146</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attrDisable(mLinePrinted);</td></tr>
<tr><td class="gutter">147</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">148</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write(outputFile, <code class="comments">{UTF8ToAnsi}</code>(text));</td></tr>
<tr><td class="gutter">149</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">150</td><td class="code"></td></tr>
<tr><td class="gutter">151</td><td class="code"><code class="comments">{ novy radek ve zdrojaku HTML output }</code> </td></tr>
<tr><td class="gutter">152</td><td class="code"><code class="keyword">procedure</code> outputEnter();</td></tr>
<tr><td class="gutter">153</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">154</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writeln(outputFile);</td></tr>
<tr><td class="gutter">155</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">156</td><td class="code"></td></tr>
<tr><td class="gutter">157</td><td class="code"><code class="comments">{ zkratka pro vypisovani HTML }</code></td></tr>
<tr><td class="gutter">158</td><td class="code"><code class="keyword">procedure</code> outputHTML(text : string);</td></tr>
<tr><td class="gutter">159</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">160</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputLine(text, true);</td></tr>
<tr><td class="gutter">161</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">162</td><td class="code"></td></tr>
<tr><td class="gutter">163</td><td class="code"><code class="comments">{ vypisovani noveho radku</code></td></tr>
<tr><td class="gutter">164</td><td class="code"><code class="comments">closeTag = vypsat ukoncovaci HTML tagy? }</code></td></tr>
<tr><td class="gutter">165</td><td class="code"><code class="keyword">procedure</code> outputNewLine(closeTag : boolean = true);</td></tr>
<tr><td class="gutter">166</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">167</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> closeTag <code class="keyword">then</code></td></tr>
<tr><td class="gutter">168</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">169</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> attrCheck(mComment) <code class="keyword">then</code> outputHTML<code class="string">'(&lt;/code&gt;'</code>);</td></tr>
<tr><td class="gutter">170</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputHTML<code class="string">'(&lt;/td&gt;&lt;/tr&gt;'</code>);</td></tr>
<tr><td class="gutter">171</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">172</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">173</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputEnter();</td></tr>
<tr><td class="gutter">174</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">// cislovani radku</td></tr>
<tr><td class="gutter">175</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputHTML<code class="string">'(&lt;tr&gt;&lt;td class="gutter"&gt;'</code>);</td></tr>
<tr><td class="gutter">176</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputHTML(inttostr(rowNumber));</td></tr>
<tr><td class="gutter">177</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputHTML<code class="string">'(&lt;/td&gt;&lt;td class="code"&gt;'</code>);</td></tr>
<tr><td class="gutter">178</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inc(rowNumber);</td></tr>
<tr><td class="gutter">179</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">180</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">// pro viceradkove komentare: na novem radku se komentar musi opet zapnout</td></tr>
<tr><td class="gutter">181</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> attrCheck(mComments) <code class="keyword">then</code> outputHTML<code class="string">'(&lt;code class="comments"&gt;'</code>);</td></tr>
<tr><td class="gutter">182</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">183</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attrEnable(mLinePrinted);</td></tr>
<tr><td class="gutter">184</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attrDisable(mAddSpecLine);</td></tr>
<tr><td class="gutter">185</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">186</td><td class="code"></td></tr>
<tr><td class="gutter">187</td><td class="code"><code class="comments">{ vypisovani specialnich znaku</code></td></tr>
<tr><td class="gutter">188</td><td class="code"><code class="comments">c = vypisovany znak</code></td></tr>
<tr><td class="gutter">189</td><td class="code"><code class="comments">pc = predchozi znak }</code></td></tr>
<tr><td class="gutter">190</td><td class="code"><code class="keyword">procedure</code> outputChar(c, pc : char);</td></tr>
<tr><td class="gutter">191</td><td class="code"><code class="keyword">var</code> sOut : string;</td></tr>
<tr><td class="gutter">192</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">193</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">194</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">{ KOMENTARE - slo by trohu zrefraktorovat, ale asi by se ztratila citelnost? }</code></td></tr>
<tr><td class="gutter">195</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">// // single-line komentar</td></tr>
<tr><td class="gutter">196</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> (c = <code class="string">''</code>/) and (pc = <code class="string">''</code>/) and <code class="keyword">not</code> attrCheck(mSpecial) <code class="keyword">then</code></td></tr>
<tr><td class="gutter">197</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">198</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attrEnable(mCommentLine);</td></tr>
<tr><td class="gutter">199</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attrDisable(mNewLineDelay);</td></tr>
<tr><td class="gutter">200</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputHTML<code class="string">'(&lt;code class="comments"&gt;'</code>);</td></tr>
<tr><td class="gutter">201</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">202</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">// {} multi-line komentar - slozene zavorky</td></tr>
<tr><td class="gutter">203</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> (c = <code class="string">'{'</code>) and <code class="keyword">not</code> attrCheck(mSpecial) <code class="keyword">then</code></td></tr>
<tr><td class="gutter">204</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">205</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attrEnable(mComment);</td></tr>
<tr><td class="gutter">206</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputHTML<code class="string">'(&lt;code class="comments"&gt;'</code>); </td></tr>
<tr><td class="gutter">207</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">208</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> (c = <code class="string">'}'</code>) and <code class="keyword">not</code> attrCheck(mSpecial and <code class="keyword">not</code> mComment) <code class="keyword">then</code></td></tr>
<tr><td class="gutter">209</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">210</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attrDisable(mComment);</td></tr>
<tr><td class="gutter">211</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputLine<code class="string">'(}'</code>);</td></tr>
<tr><td class="gutter">212</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputHTML<code class="string">'(&lt;/code&gt;'</code>);</td></tr>
<tr><td class="gutter">213</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> <code class="keyword">not</code> attrCheck(mParentheses) <code class="keyword">then</code> attrEnable(mNewLineDelay);</td></tr>
<tr><td class="gutter">214</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit; </td></tr>
<tr><td class="gutter">215</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">216</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">// (**) multi-line komentar - hvezdickove zavorky </td></tr>
<tr><td class="gutter">217</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> (c = <code class="string">'*'</code>) and (pc = <code class="string">''</code>() and <code class="keyword">not</code> attrCheck(mSpecial) <code class="keyword">then</code></td></tr>
<tr><td class="gutter">218</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">219</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attrEnable(mCommentPar);</td></tr>
<tr><td class="gutter">220</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputHTML<code class="string">'(&lt;code class="comments"&gt;'</code>); </td></tr>
<tr><td class="gutter">221</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">222</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> (c = <code class="string">')'</code>) and (pc = <code class="string">'*'</code>) and <code class="keyword">not</code> attrCheck(mSpecial and <code class="keyword">not</code> mCommentPar) <code class="keyword">then</code></td></tr>
<tr><td class="gutter">223</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">224</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attrDisable(mCommentPar);</td></tr>
<tr><td class="gutter">225</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputLine<code class="string">'()'</code>);</td></tr>
<tr><td class="gutter">226</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputHTML<code class="string">'(&lt;/code&gt;'</code>);</td></tr>
<tr><td class="gutter">227</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> <code class="keyword">not</code> attrCheck(mParentheses) <code class="keyword">then</code> attrEnable(mNewLineDelay);</td></tr>
<tr><td class="gutter">228</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit; </td></tr>
<tr><td class="gutter">229</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">230</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">231</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">// specialni HTML znaky -&gt; html-entities</td></tr>
<tr><td class="gutter">232</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sOut := c;</td></tr>
<tr><td class="gutter">233</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> <code class="keyword">not</code> attrCheck(mPlain) <code class="keyword">then</code></td></tr>
<tr><td class="gutter">234</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">235</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> c = <code class="string">'&lt;'</code> <code class="keyword">then</code> sOut := <code class="string">'&lt;'</code>;</td></tr>
<tr><td class="gutter">236</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> c = <code class="string">'&gt;'</code> <code class="keyword">then</code> sOut := <code class="string">'&gt;'</code>;</td></tr>
<tr><td class="gutter">237</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">238</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">239</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">// single-quotes '' = strings</td></tr>
<tr><td class="gutter">240</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> (c = chr(39)) and <code class="keyword">not</code> attrCheck(mComments) <code class="keyword">then</code></td></tr>
<tr><td class="gutter">241</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">242</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">// zacatek stringu</td></tr>
<tr><td class="gutter">243</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> <code class="keyword">not</code> attrCheck(mString) <code class="keyword">then</code></td></tr>
<tr><td class="gutter">244</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">245</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputHTML<code class="string">'(&lt;code class="string"&gt;'</code>);</td></tr>
<tr><td class="gutter">246</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputLine(chr(39));</td></tr>
<tr><td class="gutter">247</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attrEnable(mString);</td></tr>
<tr><td class="gutter">248</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code></td></tr>
<tr><td class="gutter">249</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">else</code> <code class="comments">// konec stringu</td></tr>
<tr><td class="gutter">250</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">251</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputLine(chr(39));</td></tr>
<tr><td class="gutter">252</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputHTML<code class="string">'(&lt;/code&gt;'</code>);</td></tr>
<tr><td class="gutter">253</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attrDisable(mString);</td></tr>
<tr><td class="gutter">254</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">255</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit;</td></tr>
<tr><td class="gutter">256</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">257</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">258</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">// uzavorkovani - uvnitr zavorek se neodradkovava </td></tr>
<tr><td class="gutter">259</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> <code class="keyword">not</code> attrCheck(mSpecial) <code class="keyword">then</code></td></tr>
<tr><td class="gutter">260</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">261</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> c = <code class="string">''</code>( <code class="keyword">then</code> inc(parentheses);</td></tr>
<tr><td class="gutter">262</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> c = <code class="string">')'</code> <code class="keyword">then</code> decPositive(parentheses);</td></tr>
<tr><td class="gutter">263</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">264</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> parentheses &gt; 0 <code class="keyword">then</code> attrEnable(mParentheses)</td></tr>
<tr><td class="gutter">265</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">else</code> attrDisable(mParentheses)</td></tr>
<tr><td class="gutter">266</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">267</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">268</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">// za strednikem odentruj</td></tr>
<tr><td class="gutter">269</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> c = <code class="string">';'</code> <code class="keyword">then</code></td></tr>
<tr><td class="gutter">270</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> <code class="keyword">not</code> attrCheck(mParentheses)</td></tr>
<tr><td class="gutter">271</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and <code class="keyword">not</code> attrCheck(mSpecial) <code class="keyword">then</code> attrEnable(mNewLineDelay);</td></tr>
<tr><td class="gutter">272</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">273</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">274</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">// vypise cache pro znaky, ktere zacinaji jako komentare</td></tr>
<tr><td class="gutter">275</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> commentCharCache &lt;&gt; chr(0) <code class="keyword">then</code></td></tr>
<tr><td class="gutter">276</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">277</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputLine(commentCharCache);</td></tr>
<tr><td class="gutter">278</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;commentCharCache := chr(0);</td></tr>
<tr><td class="gutter">279</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">280</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">281</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">// ulozi cache pro znaky, ktere zacinaji jako komentare </td></tr>
<tr><td class="gutter">282</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">//if attrCheck(mComments) then outputLine('$'); </td></tr>
<tr><td class="gutter">283</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> (c = <code class="string">''</code>() or (c = <code class="string">''</code>/) <code class="keyword">then</code> </td></tr>
<tr><td class="gutter">284</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code> </td></tr>
<tr><td class="gutter">285</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;commentCharCache := c; </td></tr>
<tr><td class="gutter">286</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit; </td></tr>
<tr><td class="gutter">287</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>; </td></tr>
<tr><td class="gutter">288</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">289</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">// vypis znak</td></tr>
<tr><td class="gutter">290</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputLine(sOut);</td></tr>
<tr><td class="gutter">291</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">292</td><td class="code"></td></tr>
<tr><td class="gutter">293</td><td class="code"><code class="comments">{ vypisovani/kontrola specialnich slov</code></td></tr>
<tr><td class="gutter">294</td><td class="code"><code class="comments">word = kontrolovane slovo }</code></td></tr>
<tr><td class="gutter">295</td><td class="code"><code class="keyword">procedure</code> outputWord(word : string);</td></tr>
<tr><td class="gutter">296</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">297</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">298</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">// vypise cache pro znaky, ktere zacinaji jako komentare</td></tr>
<tr><td class="gutter">299</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> commentCharCache &lt;&gt; chr(0) <code class="keyword">then</code></td></tr>
<tr><td class="gutter">300</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">301</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputLine(commentCharCache);</td></tr>
<tr><td class="gutter">302</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;commentCharCache := chr(0);</td></tr>
<tr><td class="gutter">303</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">304</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">305</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> <code class="keyword">not</code> attrCheck(mSpecial) <code class="keyword">then</code></td></tr>
<tr><td class="gutter">306</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">307</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">// zvetsovani/zmensovani odsazeni pred</td></tr>
<tr><td class="gutter">308</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> word = <code class="string">'end'</code> <code class="keyword">then</code> decPositive(indentation);</td></tr>
<tr><td class="gutter">309</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> word = <code class="string">'begin'</code> <code class="keyword">then</code> inc(indentation);</td></tr>
<tr><td class="gutter">310</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">311</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">// begin/end na novy radek</td></tr>
<tr><td class="gutter">312</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> ((word = <code class="string">'end'</code>) or (word = <code class="string">'begin'</code>))</td></tr>
<tr><td class="gutter">313</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and <code class="keyword">not</code> attrCheck(mNewLineDelay)</td></tr>
<tr><td class="gutter">314</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and attrCheck(mAddSpecLine) <code class="keyword">then</code> attrEnable(mNewLineDelay);</td></tr>
<tr><td class="gutter">315</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">316</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">317</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">// odradkuj, pokud chces</td></tr>
<tr><td class="gutter">318</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;checkForNewLineDelayed();</td></tr>
<tr><td class="gutter">319</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">320</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">// slovo neni specialni, vypis</td></tr>
<tr><td class="gutter">321</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> attrCheck(mSpecial) <code class="keyword">then</code></td></tr>
<tr><td class="gutter">322</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">323</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputLine(word);</td></tr>
<tr><td class="gutter">324</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit;</td></tr>
<tr><td class="gutter">325</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">326</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">327</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">// dalsi novy radek pred nektermi klicovymi slovy</td></tr>
<tr><td class="gutter">328</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">{if isSpecial(word, newLineWords) then outputNewLine;}</code></td></tr>
<tr><td class="gutter">329</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">330</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">// keywords</td></tr>
<tr><td class="gutter">331</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> isSpecial(word, keywords) <code class="keyword">then</code></td></tr>
<tr><td class="gutter">332</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">333</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputHTML<code class="string">'(&lt;code class="keyword"&gt;'</code>);</td></tr>
<tr><td class="gutter">334</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputLine(word);</td></tr>
<tr><td class="gutter">335</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputHTML<code class="string">'(&lt;/code&gt;'</code>);</td></tr>
<tr><td class="gutter">336</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code></td></tr>
<tr><td class="gutter">337</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">else</code> outputLine(word);</td></tr>
<tr><td class="gutter">338</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">339</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> <code class="keyword">not</code> attrCheck(mSpecial) <code class="keyword">then</code></td></tr>
<tr><td class="gutter">340</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">341</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">// zvetsovani/zmensovani odsazeni po</td></tr>
<tr><td class="gutter">342</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> word = <code class="string">'end'</code> <code class="keyword">then</code> decPositive(indentation);</td></tr>
<tr><td class="gutter">343</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> word = <code class="string">'begin'</code> <code class="keyword">then</code> inc(indentation);</td></tr>
<tr><td class="gutter">344</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">345</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">// odradkovani po begin/end</td></tr>
<tr><td class="gutter">346</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> ((word = <code class="string">'end'</code>) or (word = <code class="string">'begin'</code>))</td></tr>
<tr><td class="gutter">347</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and <code class="keyword">not</code> attrCheck(mLinePrinted) <code class="keyword">then</code> attrEnable(mNewLineDelay);</td></tr>
<tr><td class="gutter">348</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">349</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">350</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attrEnable(mAddSpecLine);</td></tr>
<tr><td class="gutter">351</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">352</td><td class="code"></td></tr>
<tr><td class="gutter">353</td><td class="code"><code class="comments">{ hlavni procedura - cteni zdrojaku, vypisovani</code></td></tr>
<tr><td class="gutter">354</td><td class="code"><code class="comments">inputSourceName = jmeno zdrojoveho souboru [.pas]</code></td></tr>
<tr><td class="gutter">355</td><td class="code"><code class="comments">plainText = vypisovat HTML znacky? }</code></td></tr>
<tr><td class="gutter">356</td><td class="code"><code class="keyword">procedure</code> runPrettyPrinter(inputSourceName : string = defaultSourceName; plainText : boolean = false);</td></tr>
<tr><td class="gutter">357</td><td class="code"><code class="keyword">var</code> whatFile : text;</td></tr>
<tr><td class="gutter">358</td><td class="code"><code class="keyword">var</code> c, pc : char;</td></tr>
<tr><td class="gutter">359</td><td class="code"><code class="keyword">var</code> sOut : string;</td></tr>
<tr><td class="gutter">360</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">361</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">// inicializace</td></tr>
<tr><td class="gutter">362</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assign(whatFile, inputSourceName);</td></tr>
<tr><td class="gutter">363</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reset(whatFile);</td></tr>
<tr><td class="gutter">364</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes := 0;</td></tr>
<tr><td class="gutter">365</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rowNumber := 1;</td></tr>
<tr><td class="gutter">366</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pc := chr(0);</td></tr>
<tr><td class="gutter">367</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sOut := <code class="string">''</code>;</td></tr>
<tr><td class="gutter">368</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;indentation := 0;</td></tr>
<tr><td class="gutter">369</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">370</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> plainText <code class="keyword">then</code> attrEnable(mPlain);</td></tr>
<tr><td class="gutter">371</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">372</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputHTML<code class="string">'(&lt;table border=0 class="prettyprinter"&gt;'</code>);</td></tr>
<tr><td class="gutter">373</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputNewLine(false);</td></tr>
<tr><td class="gutter">374</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attrEnable(mNewLine);</td></tr>
<tr><td class="gutter">375</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">376</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">while</code> <code class="keyword">not</code> eof(whatFile) <code class="keyword">do</code></td></tr>
<tr><td class="gutter">377</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">378</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;read(whatFile, c);</td></tr>
<tr><td class="gutter">379</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">380</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">// preskoc vsechny mezery na zacatku radku</td></tr>
<tr><td class="gutter">381</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> attrCheck(mNewLine) <code class="keyword">then</code></td></tr>
<tr><td class="gutter">382</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">383</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">while</code> c = <code class="string">' '</code> <code class="keyword">do</code></td></tr>
<tr><td class="gutter">384</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;read(whatFile, c);</td></tr>
<tr><td class="gutter">385</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attrDisable(mNewLine);</td></tr>
<tr><td class="gutter">386</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">387</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">388</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">// vytvor slovo</td></tr>
<tr><td class="gutter">389</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> isLetter(c) <code class="keyword">then</code> sOut := sOut + c</td></tr>
<tr><td class="gutter">390</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">else</code></td></tr>
<tr><td class="gutter">391</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">392</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> length(sOut)&gt;0 <code class="keyword">then</code> outputWord(sOut);</td></tr>
<tr><td class="gutter">393</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sOut := <code class="string">''</code>;</td></tr>
<tr><td class="gutter">394</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">395</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">396</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">// zahod vicenasobne mezery</td></tr>
<tr><td class="gutter">397</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> (c = <code class="string">' '</code>) and (pc = <code class="string">' '</code>) <code class="keyword">then</code> continue;</td></tr>
<tr><td class="gutter">398</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">// zpracuj novy radek v puvodnim zdrojaku</td></tr>
<tr><td class="gutter">399</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> (c = chr(13)) or (c = chr(10)) <code class="keyword">then</code></td></tr>
<tr><td class="gutter">400</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">401</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attrDisable(mCommentLine);</td></tr>
<tr><td class="gutter">402</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attrDisable(mNewLineDelay);</td></tr>
<tr><td class="gutter">403</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attrEnable(mNewLine);</td></tr>
<tr><td class="gutter">404</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">405</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputNewLine();</td></tr>
<tr><td class="gutter">406</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">407</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> c = chr(13) <code class="keyword">then</code> read(whatFile, c); <code class="comments">// discard CRLF</td></tr>
<tr><td class="gutter">408</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue; <code class="comments">// netiskni znovu novy radek</td></tr>
<tr><td class="gutter">409</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">410</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">411</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> <code class="keyword">not</code> isLetter(c) <code class="keyword">then</code> outputChar(c, pc);</td></tr>
<tr><td class="gutter">412</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pc := c;</td></tr>
<tr><td class="gutter">413</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">414</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">415</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">416</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputHTML<code class="string">'(&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;'</code>);</td></tr>
<tr><td class="gutter">417</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;close(whatFile); </td></tr>
<tr><td class="gutter">418</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">419</td><td class="code"></td></tr>
<tr><td class="gutter">420</td><td class="code"><code class="comments">{ nahrazeni promennych v sablone</code></td></tr>
<tr><td class="gutter">421</td><td class="code"><code class="comments">- promenna {$output vypise HTML zdrojak }</code></td></tr>
<tr><td class="gutter">422</td><td class="code"><code class="keyword">procedure</code> varReplaceAndPrint(line : string);</td></tr>
<tr><td class="gutter">423</td><td class="code"><code class="keyword">var</code> posPref : integer;</td></tr>
<tr><td class="gutter">424</td><td class="code"><code class="keyword">var</code> posPost : integer;</td></tr>
<tr><td class="gutter">425</td><td class="code"><code class="keyword">var</code> i : integer;</td></tr>
<tr><td class="gutter">426</td><td class="code"><code class="keyword">var</code> variableName : string;</td></tr>
<tr><td class="gutter">427</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">428</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">429</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">// hledani promennych</td></tr>
<tr><td class="gutter">430</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;posPref := pos(variablePrefix, line);</td></tr>
<tr><td class="gutter">431</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;posPost := pos(variablePostfix, line);</td></tr>
<tr><td class="gutter">432</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">433</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">// promenna nenalezena</td></tr>
<tr><td class="gutter">434</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> (posPref = 0) or (posPost = 0) or (posPref &gt; posPost) <code class="keyword">then</code> </td></tr>
<tr><td class="gutter">435</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">436</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputLine(line);</td></tr>
<tr><td class="gutter">437</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputEnter();</td></tr>
<tr><td class="gutter">438</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit;</td></tr>
<tr><td class="gutter">439</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">440</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">441</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">// vypis zacatek radku (pred promennou)</td></tr>
<tr><td class="gutter">442</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">for</code> i := 1 to posPref-1 <code class="keyword">do</code></td></tr>
<tr><td class="gutter">443</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputLine(line[i]);</td></tr>
<tr><td class="gutter">444</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">445</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variableName := <code class="string">''</code>;</td></tr>
<tr><td class="gutter">446</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">for</code> i := posPref+length(VariablePrefix) to posPost-length(VariablePostFix) <code class="keyword">do</code></td></tr>
<tr><td class="gutter">447</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variableName := variableName + line[i];</td></tr>
<tr><td class="gutter">448</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">449</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">// skromny vycet vsech moznych promennych v sablone</td></tr>
<tr><td class="gutter">450</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> <code class="string">'output'</code> = variableName <code class="keyword">then</code></td></tr>
<tr><td class="gutter">451</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runPrettyPrinter(inputSourceName)</td></tr>
<tr><td class="gutter">452</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">else</code></td></tr>
<tr><td class="gutter">453</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runError(777);</td></tr>
<tr><td class="gutter">454</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">455</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">// vypis zbytek radku </td></tr>
<tr><td class="gutter">456</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">for</code> i := posPost+1 to length(line) <code class="keyword">do</code></td></tr>
<tr><td class="gutter">457</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputLine(line[i]);</td></tr>
<tr><td class="gutter">458</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">459</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputEnter(); </td></tr>
<tr><td class="gutter">460</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">461</td><td class="code"></td></tr>
<tr><td class="gutter">462</td><td class="code"><code class="comments">// pouziti sablony pro vypis HTML kodu</td></tr>
<tr><td class="gutter">463</td><td class="code"><code class="keyword">procedure</code> outputTemplate(outputName : string = defaultOutputName; templateName : string = defaultTemplateName);</td></tr>
<tr><td class="gutter">464</td><td class="code"><code class="keyword">var</code> line : string;</td></tr>
<tr><td class="gutter">465</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">466</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assign(templateFile, templateName);</td></tr>
<tr><td class="gutter">467</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reset(templateFile);</td></tr>
<tr><td class="gutter">468</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assign(outputFile, outputName);</td></tr>
<tr><td class="gutter">469</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite(outputFile);</td></tr>
<tr><td class="gutter">470</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">471</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">while</code> <code class="keyword">not</code> eof(templateFile) <code class="keyword">do</code></td></tr>
<tr><td class="gutter">472</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">473</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;readln(templateFile, line);</td></tr>
<tr><td class="gutter">474</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">// nahrazeni promennych v sablone</td></tr>
<tr><td class="gutter">475</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;varReplaceAndPrint(line);</td></tr>
<tr><td class="gutter">476</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">477</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">478</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;close(templateFile);</td></tr>
<tr><td class="gutter">479</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;close(outputFile); </td></tr>
<tr><td class="gutter">480</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">481</td><td class="code"></td></tr>
<tr><td class="gutter">482</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">483</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">484</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">{ Ondrej Svec, I. rocnik, MMF-UK }</code></td></tr>
<tr><td class="gutter">485</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">{ zimni semestr 2012/13 }</code></td></tr>
<tr><td class="gutter">486</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="comments">{ Programovani NPRG030 }</code></td></tr>
<tr><td class="gutter">487</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writeln<code class="string">'(Pretty-printer 1.0'</code>);</td></tr>
<tr><td class="gutter">488</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writeln<code class="string">'(Ondrej Svec, I. rocnik, MMF-UK'</code>);</td></tr>
<tr><td class="gutter">489</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writeln<code class="string">'(Zimni semestr 2012/13'</code>);</td></tr>
<tr><td class="gutter">490</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writeln<code class="string">'(Programovani NPRG030: RNDr. Tomas Holan, Ph.D.'</code>);</td></tr>
<tr><td class="gutter">491</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writeln();</td></tr>
<tr><td class="gutter">492</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writeln<code class="string">'(==='</code>);</td></tr>
<tr><td class="gutter">493</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writeln<code class="string">'(Nasledujici parametry jsou nepovinne, staci odentrovat.'</code>);</td></tr>
<tr><td class="gutter">494</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writeln<code class="string">'(Jmeno vstupniho souboru (*.pas) [default = '</code>,defaultSourceName,<code class="string">']:'</code>);</td></tr>
<tr><td class="gutter">495</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;readln(inputSourceName);</td></tr>
<tr><td class="gutter">496</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writeln<code class="string">'(Jmeno vystupniho souboru [default = '</code>,defaultOutputName,<code class="string">']:'</code>);</td></tr>
<tr><td class="gutter">497</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;readln(outputName);</td></tr>
<tr><td class="gutter">498</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writeln<code class="string">'(Jmeno HTML sablony [default = '</code>,defaultTemplateName,<code class="string">']:'</code>);</td></tr>
<tr><td class="gutter">499</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;readln(templateName);</td></tr>
<tr><td class="gutter">500</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writeln<code class="string">'(Vygenerovat i soubor bez HTML znacek? [default = N] (Y/N)'</code>);</td></tr>
<tr><td class="gutter">501</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;z := readkey();</td></tr>
<tr><td class="gutter">502</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">503</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> length(inputSourceName) = 0 <code class="keyword">then</code> inputSourceName := defaultSourceName;</td></tr>
<tr><td class="gutter">504</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> length(outputName) = 0 <code class="keyword">then</code> outputName := defaultOutputName;</td></tr>
<tr><td class="gutter">505</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> length(templateName) = 0 <code class="keyword">then</code> templateName := defaultTemplateName;</td></tr>
<tr><td class="gutter">506</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">507</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outputTemplate(outputName, templateName);</td></tr>
<tr><td class="gutter">508</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr><td class="gutter">509</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">if</code> z in [<code class="string">'y'</code>,<code class="string">'Y'</code>] <code class="keyword">then</code></td></tr>
<tr><td class="gutter">510</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">begin</code></td></tr>
<tr><td class="gutter">511</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assign(outputFile, outputName+<code class="string">'.txt'</code>);</td></tr>
<tr><td class="gutter">512</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite(outputFile);</td></tr>
<tr><td class="gutter">513</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runPrettyPrinter(inputSourceName, true);</td></tr>
<tr><td class="gutter">514</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;close(outputFile);</td></tr>
<tr><td class="gutter">515</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>;</td></tr>
<tr><td class="gutter">516</td><td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<code class="keyword">end</code>.</td></tr></table>
    </body>
</html>
